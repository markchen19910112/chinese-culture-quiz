<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Culture Quiz for Kids</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #48dbfb 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 700px;
            width: 100%;
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .header {
            background: linear-gradient(135deg, #e74c3c, #f39c12);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .quiz-container {
            padding: 30px;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.8em;
            font-weight: bold;
            color: #e74c3c;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #f39c12);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-section {
            margin-bottom: 30px;
        }

        .question-number {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.2em;
            line-height: 1.5;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .image-placeholder {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            margin: 15px 0;
            color: #6c757d;
        }

        .image-placeholder-icon {
            font-size: 3em;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        .chinese-text {
            font-size: 1.8em;
            color: #e74c3c;
            font-weight: bold;
            margin: 15px 0;
            text-align: center;
            padding: 15px;
            background: #fef9e7;
            border-radius: 10px;
            border-left: 4px solid #f39c12;
        }

        .pinyin-text {
            font-style: italic;
            color: #7f8c8d;
            font-size: 0.95em;
            margin-bottom: 20px;
            text-align: center;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-bottom: 25px;
        }

        .option-btn {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border: 2px solid transparent;
            padding: 15px 20px;
            font-size: 1em;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            min-height: 60px;
        }

        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #e74c3c;
            background: linear-gradient(145deg, #fff, #f8f9fa);
        }

        .option-btn.correct {
            background: linear-gradient(145deg, #2ecc71, #27ae60);
            color: white;
            border-color: #27ae60;
        }

        .option-btn.incorrect {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            border-color: #c0392b;
        }

        .option-chinese {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .option-btn.correct .option-chinese,
        .option-btn.incorrect .option-chinese {
            color: white;
        }

        .option-pinyin {
            font-style: italic;
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 3px;
        }

        .option-btn.correct .option-pinyin,
        .option-btn.incorrect .option-pinyin {
            color: rgba(255,255,255,0.8);
        }

        .option-english {
            color: #666;
            font-size: 0.95em;
        }

        .option-btn.correct .option-english,
        .option-btn.incorrect .option-english {
            color: rgba(255,255,255,0.9);
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 120px;
        }

        .btn-primary {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(145deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .feedback {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback.show {
            opacity: 1;
        }

        .result-section {
            text-align: center;
            padding: 40px 20px;
            background: #f8f9fa;
            margin: 20px;
            border-radius: 15px;
        }

        .final-score {
            font-size: 3em;
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .start-screen h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .start-screen p {
            color: #7f8c8d;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #e74c3c;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .feature h3 {
            color: #e74c3c;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .feature p {
            font-size: 0.9em;
            color: #666;
            margin: 0;
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { margin: 0; border-radius: 15px; }
            .header { padding: 25px 20px; }
            .header h1 { font-size: 1.8em; }
            .quiz-container { padding: 20px; }
            .chinese-text { font-size: 1.5em; }
            .question-text { font-size: 1.1em; }
            .option-btn { padding: 12px 15px; min-height: 55px; }
            .control-buttons { flex-direction: column; }
            .btn { width: 100%; }
            .final-score { font-size: 2.5em; }
            .stats { padding: 15px; }
            .stat-number { font-size: 1.6em; }
            .features { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Chinese Culture Quiz for Kids</h1>
            <p>Learn Chinese Characters, Culture & More!</p>
        </div>

        <div class="quiz-container">
            <!-- Start Screen -->
            <div class="start-screen" id="startScreen">
                <h2>Welcome to Chinese Culture Quiz! üèÆ</h2>
                <p>Test your knowledge of Chinese characters, culture, traditions, and language. Perfect for kids learning Chinese!</p>
                
                <div class="features">
                    <div class="feature">
                        <h3>üìö 20 Questions</h3>
                        <p>Covering Chinese characters, culture, and traditions</p>
                    </div>
                    <div class="feature">
                        <h3>üé® Interactive</h3>
                        <p>Fun multiple choice questions with instant feedback</p>
                    </div>
                    <div class="feature">
                        <h3>üèÜ Progress Tracking</h3>
                        <p>See your score and learn as you go</p>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar" id="progressBar" style="display: none;">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- Stats -->
            <div class="stats" id="stats" style="display: none;">
                <div class="stat-item">
                    <span class="stat-number" id="currentQuestion">1</span>
                    <div class="stat-label">Question</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="correctCount">0</span>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalQuestions">20</span>
                    <div class="stat-label">Total</div>
                </div>
            </div>

            <!-- Question Section -->
            <div class="question-section" id="questionSection" style="display: none;">
                <div class="question-number" id="questionNumber">Question 1 of 20</div>
                <div class="question-text" id="questionText"></div>
                <div id="questionImage"></div>
                <!-- Only show Chinese text and pinyin when needed for the question -->
                <div class="chinese-text" id="chineseText" style="display: none;"></div>
                <div class="pinyin-text" id="pinyinText" style="display: none;"></div>
                <div class="options" id="optionsContainer"></div>
            </div>

            <!-- Feedback -->
            <div class="feedback" id="feedback"></div>

            <!-- Control Buttons -->
            <div class="control-buttons" id="controlButtons" style="display: none;">
                <button class="btn btn-secondary" onclick="skipQuestion()">‚è≠Ô∏è Skip</button>
                <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn" style="display: none;">‚û°Ô∏è Next Question</button>
            </div>

            <!-- Result Section -->
            <div class="result-section" id="resultSection" style="display: none;">
                <div class="final-score" id="finalScore"></div>
                <h3 id="resultMessage"></h3>
                <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="backToHome()">üè† Back to Home</button>
                    <button class="btn btn-primary" onclick="startQuiz()">üîÑ Try Again</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data from the document
        const quizData = [
            {
                question: "Among the tools used in Chinese calligraphy, the ones known as the 'Four Treasures of the Study' are ( ).",
                chinese: "ÊñáÊàøÂõõÂÆù",
                pinyin: "w√©nf√°ng s√¨b«éo", 
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image1.jpg", description: "Traditional Chinese calligraphy tools", placeholder:false },
                options: [
                    { chinese: "Á¨îÂ¢®Á∫∏Á†ö", pinyin: "b«ê m√≤ zh«ê y√†n", english: "brush, ink, paper, and inkstone" },
                    { chinese: "Áê¥Ê£ã‰π¶Áîª", pinyin: "q√≠n q√≠ sh≈´ hu√†", english: "music, chess, calligraphy, painting" },
                    { chinese: "Áê¥Ê£ãËå∂‰π¶", pinyin: "q√≠n q√≠ ch√° sh≈´", english: "music, chess, tea, books" }
                ],
                correct: 0
            },
            {
                question: "I wish I had more ________ to go out.",
                chinese: "Êó∂Èó¥",
                pinyin: "sh√≠ jiƒÅn",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image2.jpg", description: "Chinese text showing time-related words", placeholder:false },
                options: [
                    { chinese: "Êó∂Èó¥", pinyin: "sh√≠ jiƒÅn", english: "time" },
                    { chinese: "Êó∂Âêé", pinyin: "sh√≠ h√≤u", english: "after time" },
                    { chinese: "Êó∂Ëæ∞", pinyin: "sh√≠ ch√©n", english: "hour" }
                ],
                correct: 0
            },
            {
                question: "The radical (ÈÉ®È¶ñ) of the Chinese character Ê∏° is",
                chinese: "Ê∏°",
                pinyin: "d√π",
                showChineseUpfront: true, // Show the character being asked about
                image: { src: "images/image3.jpg", description: "Chinese character Ê∏° with radical highlighted", placeholder:false },
                options: [
                    { chinese: "‰∏∂", pinyin: "di«én", english: "dot" },
                    { chinese: "Ê∞µ", pinyin: "shu«ê", english: "water radical" },
                    { chinese: "Â∫¶", pinyin: "d√π", english: "degree" }
                ],
                correct: 1
            },
            {
                question: "Table tennis is China's national sport. Many people start ( ) table tennis from a young age.",
                chinese: "Êâì",
                pinyin: "d«é",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image4.png", description: "People playing table tennis", placeholder:false },
                options: [
                    { chinese: "Êãç", pinyin: "pƒÅi", english: "clap" },
                    { chinese: "Êäï", pinyin: "t√≥u", english: "throw" },
                    { chinese: "Êâì", pinyin: "d«é", english: "play" }
                ],
                correct: 2
            },
            {
                question: "The idiom that comes to your mind when you see the picture is ( ), which is a metaphor for things going very smoothly.",
                chinese: "ÂäøÂ¶ÇÁ†¥Á´π",
                pinyin: "sh√¨ r√∫ p√≤ zh√∫",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image5.png", description: "Image of bamboo being split", placeholder:false },
                options: [
                    { chinese: "Á´πÊä•Âπ≥ÂÆâ", pinyin: "zh√∫ b√†o p√≠ng ƒÅn", english: "bamboo reports peace" },
                    { chinese: "ËÉ∏ÊúâÊàêÁ´π", pinyin: "xi≈çng y«íu ch√©ng zh√∫", english: "have a plan ready" },
                    { chinese: "ÂäøÂ¶ÇÁ†¥Á´π", pinyin: "sh√¨ r√∫ p√≤ zh√∫", english: "with unstoppable force" }
                ],
                correct: 2
            },
            {
                question: "'________' is not a traditional Chinese folk art.",
                chinese: "ÊâëÂÖã",
                pinyin: "p≈´ k√®",
                showChineseUpfront: false, // Don't show answer before user selects
                options: [
                    { chinese: "ÊâëÂÖã", pinyin: "p≈´ k√®", english: "playing cards" },
                    { chinese: "Èù¢Â°ë", pinyin: "mi√†n s√π", english: "dough modeling" },
                    { chinese: "Ââ™Á∫∏", pinyin: "ji«én zh«ê", english: "paper cutting" }
                ],
                correct: 0
            },
            {
                question: "The earliest Chinese characters in China are like paintings. For example, the earliest Chinese character for 'horse' is the one shown in the first picture. Please look at the character in the second picture. What do you think it is?",
                chinese: "Áâõ",
                pinyin: "ni√∫",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image6.png", description: "Ancient Chinese character resembling an ox", placeholder:false },
                options: [
                    { chinese: "È∏°", pinyin: "jƒ´", english: "chicken" },
                    { chinese: "Áâõ", pinyin: "ni√∫", english: "ox" },
                    { chinese: "È©¨", pinyin: "m«é", english: "horse" }
                ],
                correct: 1
            },
            {
                question: "As the saying goes, 'A smile makes you ten years younger.' The pronunciation of 'Â∞ë' is",
                chinese: "Â∞ë",
                pinyin: "sh√†o",
                showChineseUpfront: true, // Show the character being asked about
                options: [
                    { chinese: "sh«éo", pinyin: "", english: "third tone (few)" },
                    { chinese: "sh√†o", pinyin: "", english: "fourth tone (young)" },
                    { chinese: "sh√°o", pinyin: "", english: "second tone" }
                ],
                correct: 1
            },
            {
                question: "The autumn weather is crisp and refreshing, and the rice flowers are fragrant. Next month I want to ( ) a train to Tianjin to see the beautiful rice fields.",
                chinese: "Âùê",
                pinyin: "zu√≤",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image7.jpg", description: "Beautiful rice fields in autumn", placeholder:false },
                options: [
                    { chinese: "Âùê", pinyin: "zu√≤", english: "take/sit" },
                    { chinese: "È™ë", pinyin: "q√≠", english: "ride" },
                    { chinese: "Êâì", pinyin: "d«é", english: "take (taxi)" }
                ],
                correct: 0
            },
            {
                question: "( ) is not a plant.",
                chinese: "Ëô´",
                pinyin: "ch√≥ng",
                showChineseUpfront: false, // Don't show answer before user selects
                options: [
                    { chinese: "Ê†ë", pinyin: "sh√π", english: "tree" },
                    { chinese: "Ëä±", pinyin: "huƒÅ", english: "flower" },
                    { chinese: "Ëô´", pinyin: "ch√≥ng", english: "insect" }
                ],
                correct: 2
            },
            {
                question: "'Êú®(m√π)' can be combined with ( ) to form a new character (z√¨)",
                chinese: "Êú®",
                pinyin: "m√π",
                showChineseUpfront: true, // Show the character being asked about
                options: [
                    { chinese: "Êú®", pinyin: "m√π", english: "wood (Êú®+Êú®=Êûó)" },
                    { chinese: "Âêç", pinyin: "m√≠ng", english: "name" },
                    { chinese: "Â§©", pinyin: "tiƒÅn", english: "sky" }
                ],
                correct: 0
            },
            {
                question: "The pinyin pronunciation of 'hu√†' is ( )",
                chinese: "hu√†",
                pinyin: "hu√†",
                showChineseUpfront: true, // Show the pronunciation being asked about
                options: [
                    { chinese: "Ëä±", pinyin: "huƒÅ", english: "flower" },
                    { chinese: "Áîª", pinyin: "hu√†", english: "paint/picture" },
                    { chinese: "Êªë", pinyin: "hu√°", english: "slippery" }
                ],
                correct: 1
            },
            {
                question: "After looking forward ___ looking forward ________, I finally arrived in beautiful China.",
                chinese: "ÊòüÊòüÊúàÊúà",
                pinyin: "xƒ´ng xƒ´ng yu√® yu√®",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image9.png", description: "Chinese text options showing star and moon characters", placeholder:false },
                options: [
                    { chinese: "Â§™Èò≥„ÄÅÊúà‰∫Æ", pinyin: "t√†i y√°ng, yu√® li√†ng", english: "sun, moon" },
                    { chinese: "ÊòüÊòü„ÄÅÂ§™Èò≥", pinyin: "xƒ´ng xƒ´ng, t√†i y√°ng", english: "star, sun" },
                    { chinese: "ÊòüÊòü„ÄÅÊúà‰∫Æ", pinyin: "xƒ´ng xƒ´ng, yu√® li√†ng", english: "star, moon" }
                ],
                correct: 2
            },
            {
                question: "Many cities in China have their own specialties, such as Chongqing hotpot. Which of the following foods is a Beijing specialty?",
                chinese: "ÁÉ§È∏≠",
                pinyin: "k«éo yƒÅ",
                showChineseUpfront: false, // Don't show answer before user selects
                options: [
                    { chinese: "Ê∂ÆËÇâ", pinyin: "shu√†n r√≤u", english: "boiled mutton" },
                    { chinese: "ÁÅ´ÈîÖ", pinyin: "hu«í gu≈ç", english: "hotpot" },
                    { chinese: "ÁÉ§È∏≠", pinyin: "k«éo yƒÅ", english: "roast duck" }
                ],
                correct: 2
            },
            {
                question: "The giant panda is China's national treasure and a beloved messenger of cultural exchange for people all over the world. What does the giant panda symbolize?",
                chinese: "ÂíåÂπ≥„ÄÅÂèãË∞ä",
                pinyin: "h√© p√≠ng, y«íu y√¨",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image8.png", description: "Cute giant panda image", placeholder:false },
                options: [
                    { chinese: "Â®ÅÊ≠¶„ÄÅÂá∂Áåõ", pinyin: "wƒìi w«î, xi≈çng mƒõng", english: "mighty, fierce" },
                    { chinese: "ÂíåÂπ≥„ÄÅÂèãË∞ä", pinyin: "h√© p√≠ng, y«íu y√¨", english: "peace, friendship" },
                    { chinese: "Áã°Áåæ„ÄÅË∞ÉÁöÆ", pinyin: "ji«éo hu√°, ti√°o p√≠", english: "cunning, mischievous" }
                ],
                correct: 1
            },
            {
                question: "Tianjin's time-honored brand 'Niren Zhang' is one of the representatives of Chinese clay sculpture art. It was founded in the Qing Dynasty and has been passed down for more than 200 years. The colorful clay figurines of 'Niren Zhang' look like the real thing, which is really ( ).",
                chinese: "Ê†©Ê†©Â¶ÇÁîü",
                pinyin: "x«î x«î r√∫ shƒìng",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image10.png", description: "Colorful clay figurines by Niren Zhang", placeholder:false },
                options: [
                    { chinese: "ÂèØÂñúÂèØË¥∫", pinyin: "kƒõ x«ê kƒõ h√®", english: "congratulatory" },
                    { chinese: "ËôéËôéÁîüÂ®Å", pinyin: "h«î h«î shƒìng wƒìi", english: "vigorous" },
                    { chinese: "Ê†©Ê†©Â¶ÇÁîü", pinyin: "x«î x«î r√∫ shƒìng", english: "lifelike" }
                ],
                correct: 2
            },
            {
                question: "In the video above, which animal belongs to the traditional Chinese zodiac?",
                chinese: "ÂñúÁæäÁæä",
                pinyin: "x«ê y√°ng y√°ng",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image11.png", description: "Cartoon characters from Pleasant Goat series", placeholder:false },
                options: [
                    { chinese: "ÁÅ∞Â§™Áãº", pinyin: "huƒ´ t√†i l√°ng", english: "Big Bad Wolf" },
                    { chinese: "ÂñúÁæäÁæä", pinyin: "x«ê y√°ng y√°ng", english: "goat" },
                    { chinese: "È£ü‰∫∫È±º", pinyin: "sh√≠ r√©n y√∫", english: "piranha" }
                ],
                correct: 1
            },
            {
                question: "Which of the following is closest to the word 'friend'?",
                chinese: "Áü•Èü≥",
                pinyin: "zhƒ´ yƒ´n",
                showChineseUpfront: false, // Don't show answer before user selects
                options: [
                    { chinese: "‰∫≤Êàö", pinyin: "qƒ´n qi", english: "relative" },
                    { chinese: "ÂêåÁ™ó", pinyin: "t√≥ng chuƒÅng", english: "classmate" },
                    { chinese: "Áü•Èü≥", pinyin: "zhƒ´ yƒ´n", english: "bosom friend" }
                ],
                correct: 2
            },
            {
                question: "Which Chinese idiom is described in the picture?",
                chinese: "‰∏æ‰∏ÄÂèç‰∏â",
                pinyin: "j«î yƒ´ f«én sƒÅn",
                showChineseUpfront: false, // Don't show answer before user selects
                image: { src: "images/image12.png", description: "Illustration showing learning by analogy concept", placeholder:false },
                options: [
                    { chinese: "‰∏æ‰∏ÄÂèç‰∏â", pinyin: "j«î yƒ´ f«én sƒÅn", english: "learn by analogy" },
                    { chinese: "‰∏Ä‰∏æ‰∏§Âæó", pinyin: "yƒ´ j«î li«éng d√©", english: "kill two birds with one stone" },
                    { chinese: "‰∏æÊâã‰πãÂä≥", pinyin: "j«î sh«íu zhƒ´ l√°o", english: "easy task" }
                ],
                correct: 0
            },
            {
                question: "If we use the correct vocal method and sing 'Little Wine Wo' with emotion, we can sing it ( ) beautifully.",
                chinese: "Êõ¥",
                pinyin: "g√®ng",
                showChineseUpfront: false, // Don't show answer before user selects
                options: [
                    { chinese: "Â§™", pinyin: "t√†i", english: "too" },
                    { chinese: "Êõ¥", pinyin: "g√®ng", english: "more" },
                    { chinese: "Ë∂ä", pinyin: "yu√®", english: "increasingly" }
                ],
                correct: 1
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let hasAnswered = false;

        // DOM Elements
        const elements = {
            startScreen: document.getElementById('startScreen'),
            progressBar: document.getElementById('progressBar'),
            progressFill: document.getElementById('progressFill'),
            stats: document.getElementById('stats'),
            currentQuestion: document.getElementById('currentQuestion'),
            correctCount: document.getElementById('correctCount'),
            totalQuestions: document.getElementById('totalQuestions'),
            questionSection: document.getElementById('questionSection'),
            questionNumber: document.getElementById('questionNumber'),
            questionText: document.getElementById('questionText'),
            chineseText: document.getElementById('chineseText'),
            pinyinText: document.getElementById('pinyinText'),
            optionsContainer: document.getElementById('optionsContainer'),
            feedback: document.getElementById('feedback'),
            controlButtons: document.getElementById('controlButtons'),
            nextBtn: document.getElementById('nextBtn'),
            resultSection: document.getElementById('resultSection'),
            finalScore: document.getElementById('finalScore'),
            resultMessage: document.getElementById('resultMessage')
        };

        // Start Quiz
        function startQuiz() {
            elements.startScreen.style.display = 'none';
            elements.resultSection.style.display = 'none';
            elements.progressBar.style.display = 'block';
            elements.stats.style.display = 'flex';
            elements.questionSection.style.display = 'block';
            elements.controlButtons.style.display = 'flex';
            
            currentQuestionIndex = 0;
            correctAnswers = 0;
            hasAnswered = false;
            
            updateStats();
            showQuestion();
        }

        // Show Current Question
        function showQuestion() {
            if (currentQuestionIndex >= quizData.length) {
                showResults();
                return;
            }

            hasAnswered = false;
            const current = quizData[currentQuestionIndex];
            
            elements.questionNumber.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
            elements.questionText.textContent = current.question;
            
            // Only show Chinese text and pinyin if it's needed for the question
            if (current.showChineseUpfront !== false) {
                elements.chineseText.textContent = current.chinese;
                elements.pinyinText.textContent = current.pinyin;
                elements.chineseText.style.display = 'block';
                elements.pinyinText.style.display = 'block';
            } else {
                elements.chineseText.textContent = '';
                elements.pinyinText.textContent = '';
                elements.chineseText.style.display = 'none';
                elements.pinyinText.style.display = 'none';
            }

            // Handle images
            const questionImageDiv = document.getElementById('questionImage');
            if (current.image) {
                if (current.image.placeholder) {
                    // Show placeholder if image file doesn't exist or placeholder is true
                    questionImageDiv.innerHTML = `
                        <div class="image-placeholder">
                            <div class="image-placeholder-icon">üñºÔ∏è</div>
                            <div>${current.image.description}</div>
                            <div style="font-size: 0.8em; color: #999; margin-top: 5px;">
                                Image path: ${current.image.src || 'No image path'}
                            </div>
                        </div>
                    `;
                } else if (current.image.src) {
                    // Show actual image
                    questionImageDiv.innerHTML = `
                        <img src="${current.image.src}" 
                             alt="${current.image.description}" 
                             class="question-image"
                             onerror="this.parentElement.innerHTML='<div class=\\'image-placeholder\\'><div class=\\'image-placeholder-icon\\'>üñºÔ∏è</div><div>${current.image.description}</div><div style=\\'font-size: 0.8em; color: #999; margin-top: 5px;\\'>Image not found: ${current.image.src}</div></div>'">
                        <div class="image-description">${current.image.description}</div>
                    `;
                }
            } else {
                questionImageDiv.innerHTML = '';
            }

            elements.optionsContainer.innerHTML = '';
            current.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.innerHTML = `
                    <div class="option-chinese">${option.chinese}</div>
                    <div class="option-pinyin">${option.pinyin}</div>
                    <div class="option-english">${option.english}</div>
                `;
                button.addEventListener('click', () => selectAnswer(index, current.correct));
                elements.optionsContainer.appendChild(button);
            });

            elements.feedback.textContent = '';
            elements.feedback.className = 'feedback';
            elements.nextBtn.style.display = 'none';
            
            updateProgress();
        }

        // Select Answer
        function selectAnswer(selected, correct) {
            if (hasAnswered) return;
            
            hasAnswered = true;
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === correct) {
                    btn.classList.add('correct');
                } else if (index === selected && selected !== correct) {
                    btn.classList.add('incorrect');
                }
            });

            const isCorrect = selected === correct;
            if (isCorrect) {
                correctAnswers++;
                showFeedback('üéâ Correct! Well done!', 'correct');
            } else {
                const correctOption = quizData[currentQuestionIndex].options[correct];
                showFeedback(`‚ùå Wrong! The correct answer is: ${correctOption.chinese} (${correctOption.pinyin})`, 'incorrect');
            }

            updateStats();
            elements.nextBtn.style.display = 'inline-block';
        }

        // Skip Question
        function skipQuestion() {
            if (hasAnswered) return;
            
            hasAnswered = true;
            const current = quizData[currentQuestionIndex];
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === current.correct) {
                    btn.classList.add('correct');
                }
            });

            const correctOption = current.options[current.correct];
            showFeedback(`‚è≠Ô∏è Skipped! The correct answer was: ${correctOption.chinese} (${correctOption.pinyin})`, 'skipped');
            elements.nextBtn.style.display = 'inline-block';
        }

        // Next Question
        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        // Show Feedback
        function showFeedback(message, type) {
            elements.feedback.textContent = message;
            elements.feedback.className = `feedback ${type} show`;
            
            const colors = {
                correct: '#27ae60',
                incorrect: '#e74c3c',
                skipped: '#f39c12'
            };
            
            elements.feedback.style.backgroundColor = colors[type];
            elements.feedback.style.color = 'white';
        }

        // Update Stats
        function updateStats() {
            elements.currentQuestion.textContent = currentQuestionIndex + 1;
            elements.correctCount.textContent = correctAnswers;
            elements.totalQuestions.textContent = quizData.length;
        }

        // Update Progress
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            elements.progressFill.style.width = `${progress}%`;
        }

        // Show Results
        function showResults() {
            elements.questionSection.style.display = 'none';
            elements.controlButtons.style.display = 'none';
            elements.progressBar.style.display = 'none';
            elements.stats.style.display = 'none';
            elements.resultSection.style.display = 'block';
            
            const percentage = Math.round((correctAnswers / quizData.length) * 100);
            elements.finalScore.textContent = `${correctAnswers}/${quizData.length}`;
            
            let message = '';
            let emoji = '';
            if (percentage >= 90) {
                message = 'Outstanding! You know Chinese culture very well!';
                emoji = 'üèÜ';
            } else if (percentage >= 80) {
                message = 'Excellent! Great knowledge of Chinese culture!';
                emoji = 'üåü';
            } else if (percentage >= 70) {
                message = 'Good job! You have a solid understanding!';
                emoji = 'üëè';
            } else if (percentage >= 60) {
                message = 'Not bad! Keep learning and practicing!';
                emoji = 'üëç';
            } else {
                message = 'Keep studying! Chinese culture is fascinating!';
                emoji = 'üí™';
            }
            
            elements.resultMessage.innerHTML = `${emoji} ${message}<br><span style="font-size: 0.8em; color: #7f8c8d;">You scored ${percentage}%</span>`;
        }

        // Back to Home
        function backToHome() {
            elements.resultSection.style.display = 'none';
            elements.questionSection.style.display = 'none';
            elements.progressBar.style.display = 'none';
            elements.stats.style.display = 'none';
            elements.controlButtons.style.display = 'none';
            elements.startScreen.style.display = 'block';
            
            currentQuestionIndex = 0;
            correctAnswers = 0;
            hasAnswered = false;
            
            elements.progressFill.style.width = '0%';
            elements.feedback.textContent = '';
            elements.feedback.className = 'feedback';
            elements.nextBtn.style.display = 'none';
        }
    </script>
</body>
</html>